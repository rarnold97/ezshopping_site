{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome-to-ezshopping-documenation","title":"Welcome to EzShopping Documenation","text":""},{"location":"#overview","title":"Overview","text":"<p>Ez Shopping is an application that enables you to take a picture of a common grocery food item(s), have those item(s) detected by a machine learning algorithm, and subsequently add the items to an authenticated Kroger Cart. The goal is to make grocery shopping, a mundande chore, easier and more convienient. The application does a search on items you are interested in, and filters them down by the lowest price, and the nearest Kroger location to you, based on your current IP address. This application is written primarily in Python, using Streamlit to host the frontend. We also make use of Docker, Python-Poetry, and ngrok.</p> <p></p>"},{"location":"#demo","title":"Demo","text":""},{"location":"#credits","title":"Credits","text":"<p>This project was completed under the jurisdiction of Dr. Sean Banerjee at Wright State University, for CEG-6110: \"Intro to Software Engineering\", a graduate course in the College of Engineering.</p> Author Email Ryan Arnold arnold.227@wright.edu Janki Parmar parmar.29@wright.edu"},{"location":"design_and_architecture/","title":"Code Architecture and Design","text":""},{"location":"design_and_architecture/#design-and-architecture-for-ezshopping","title":"Design and Architecture for EzShopping","text":"<p>High Level Architecture</p> <p></p> <p>At a high-level, our app contains the following services:</p> <ul> <li>Frontend</li> <li>Backend</li> <li>Frontend-Backend-Interface</li> <li>Databases</li> </ul> <p>Each service will be describe in more detail in the sections that follow. The component that we want to emphasize is the FrontendBackendInterface. We designed so that high-level tasks could be abstracted from the perspectives of the frontend and backend. For example, The frontend may request to add an item to the user's cart. We designed the interface so that the frontend service only needs to call one function from the interface for this task.  The backend implementations, such as: authentication, interacting with REST endpoints, and interacting with databases, are abstracted by the backend library modules.</p>"},{"location":"design_and_architecture/#frontend-design","title":"Frontend Design","text":"<p>For our frontend driver service, we used the Streamlit library.  Our frontend application hosts two pages: 1. Homepage / Login 2. Dashboard</p>"},{"location":"design_and_architecture/#login","title":"Login","text":"<p>Our login service uses text field widgets that enable the user to enter usernames and password. Thanks to a built-in streamlit feature, the password is hidden as the user types it. If the username entered was not found, the application prompts the user to create an account. Specifically, the code will query a user database to see if the user exists. Once a new account is created, we encode the password using python library: <code>hashlib</code>.</p> <pre><code>hashlib.sha256(str(st.session_state.new_password).encode()).hexdigest()\n</code></pre> <p>Upon login, the user is asked to authenticate their Kroger account. A button is shown that takes the user to the Kroger sign-in page. After a successful sign-in, the Kroger site redirects back to the app via a gateway. We use the free version of ngrok as our gateway, to redirect traffic back to our app. After authentication, Kroger appends an access key the the URL as a response, which we ingest and use for the \"Add to cart\" API calls. Kroger uses Oauth2 authentication for this whole proccess. Once authenticated, the user is redirected to the main Dashboard page. We have also implemented a \"log out\" button, which redirects the user back to the home/login page.</p>"},{"location":"design_and_architecture/#dashboard","title":"Dashboard","text":"<p>The dashboard page is where most of the business logic exists. Here, there are three tabs that serve as sub-pages: 1. Upload 2. History 3. Kroger cart</p>"},{"location":"design_and_architecture/#upload","title":"Upload","text":"<p>The upload tab allows the user to upload an image, and supports the following image formats: .png, .jpg, *.tiff. Upon upload, the frontend service will pass the image data to a <code>FrontendBackendInterface</code> client. The client calls modules from the backend to invoke the image recognition pipeline, which currently uses a pretrained Ultralytics Yolo11 model checkpoint. After the model processes, it stores its results to a database (which links classification labels to image file pointers) and displays a message to the user what it classifies the objects in the image the image as.</p> <p>After classification, two widgets are enabled for the user to interact with for adding grocery items to their Kroger cart instance. The first is an uptick widget, which allows the user to set the quantity of items to add; the scond is a button that will attempt to add the item list to their Kroger cart. The implementation of this is integrated together by the <code>FrontendBackendInterface</code>.</p>"},{"location":"design_and_architecture/#history","title":"History","text":"<p>The second tab allows the user to see a history of their image uploads, and data for the products contained in the images. Data Includes:</p> <ul> <li>Detected Label(s)</li> <li>brand</li> <li>price</li> <li>nearest location</li> <li>date uploaded</li> <li>etc.</li> </ul> <p>The frontend has logic to ensure that the history is only displayed for the logged in user. The user is also presented a radio menu that lets them filter the time window. They are offered: the past day, past week, past month, and past year. We also set a limit on the number of items that can be rendered (default is 5). Any items in surplus of the limit are displayed on a \"next page\", and the user is given buttons to advance or decrement the page, as well as what the current page is. The purpose of this was to reduce the amount of widgets spawned at any given pass of the frontend application loop.</p> <p>Once a record is rendered, the user can \"re-add\" the item to their cart. A quantity ticker is available to allow the user to customize the quantity of items to \"re-add\" to their cart instance.</p> <p></p>"},{"location":"design_and_architecture/#frontend-backend-interface-api","title":"Frontend Backend Interface API","text":"<p>We designed an API that we call: <code>FrontendBackendInterface</code>, to glue the frontend to the backend together in a streamlined, integratable fashion.  This interface allows developers to make progress, either on the fronted or backend, without worrying about all the implementation details of the backend/frontend. This design was effective for making progress on this application. Each method is designed to accomplish a general task that a user will require during a session.  In general, each function pulls functions from different backend modules together and the necessary code to interact with our project databases. Since the implementation details are abstracted in each method, it simplifies usage, such that a developer only needs to make either a single or couple of method calls. The full implementation details may be found within our source code <code>FrontendBackendInterface.py</code> on Github.</p>"},{"location":"design_and_architecture/#classification-model-design-and-reasoning","title":"Classification Model Design and Reasoning","text":"<p>Our survey of image recognition models was limited, due to time constraints. We primarly compared and contrasted three models: the Ultralytics Yolo11 model, Google TensorFlow Hub, and Facebook Detectron2. We ultimately decided to use the Ultralytics Yolo11 model. The primary factor that influenced our decision was the ease-of-use of the Yolo model. It required minimal code to integrate, is fast, and performs reasonably well. However, the fidelity of this model was limited. Moreover, it was only able to provide detection on a limited subset of grocery items. Therefore, future research would involve surveying higher-fidelity models for object detection.</p> <p>In terms of implementation, the workflow was simple. First, we marshalled image data from the frontend image uploader widget into a PIL Image datastructure. If a checkpoint had not already been loaded, we load a Yolo11 checkpoint for the pre-trained machine learning model. Then, we pass the image data through the model pipeline, and collect the predicted labels. Finally, we intersect the label with a pre-selected set of labels that would be acceptable grocery store items. For example, if the detection model can classify a cat from an image, we don't want to accept that because you probably cannot purchase a cat at a Kroger grocery store chain. If the detected label is not acceptable, we instead return and empty list in the code. For more implementation details, see our source code: <code>image_classification.py</code> on Github.</p>"},{"location":"design_and_architecture/#backend-kroger-rest-api-library-and-workflow","title":"Backend Kroger REST API Library and Workflow","text":"<p>The diagram above outlines the workflow of the backend library we designed to interact with Kroger API REST endpoints. There are two primary points of interaction with the frontend: when the user authenticates via oauth2 to provide programatic access to their cart, and when the user elects to add item(s), from an uploaded image file, to their cart. All interaction witht the frontend gets abstracted by the <code>FrontendBackendInterface</code>. Below is an example walking through a scenario:</p> <p>Example Backend Kroger API Interaction</p> <p>Suppose the user has uploaded an image, the detection labels have been generated, and they are ready to add 2 apples to their shooping cart, the following will likely occur:</p> <ol> <li>Retrieve a client API token to interact with Kroger's endpoints.</li> <li>Request the nearest location, based on the active IP of the currently running application client. If this location is already available in our Kroger Locations Database, we query it for faster access. Otherwise, we make a REST request to the Kroger \"Locations\" API.</li> <li>Request product data. All image classification labels are used as product search terms as is. If the product we are looking for has already been stored in our Kroger Products databse, query it instead for faster access. Otherwise, we make a REST request to the Kroger \"Products\" API, with appropriate product filters (namely lowest price).</li> <li>Collect a proper authenticated Oauth2 token. This is associated per-user. We also store this per-session in our User Database. If we cannot query it from our database, we ingetst the token from the redirect URL that kroger updates post-authentication on their end. This is possible due to our ngrok gateway service.</li> <li>Add the product(s) to the user's kroger cart using the Kroger \"Carts\" API. Using data, like requested quantity, we update appropriate url keys.</li> </ol>"},{"location":"design_and_architecture/#database-design","title":"Database Design","text":"<p>Mongo Collection Preview</p> <p></p> <p>Using Mongo DB as our database server, we assembled the following collections (a.k.a smaller databases):</p> <ul> <li>user_data</li> <li>product_images (with associated GridFS as image data File Storage service)</li> <li>kroger_locations</li> <li>kroger_products</li> </ul> <p>The user_data collection stores user credentials. Primarily, the records consist of usernames, passwords (encrypted), and kroger customer tokens. The product_images collection stores metadata about all the product images. This includes: image filename (with extension), file pointer to our File Storage server, and associated classification labels from the object detection pipeline. Storing classification labels with the uploaded image reduces the number of calls we must make to our image detection pipeline, which tends to add computational overhead. Next, we have databases associated with Kroger API request data: kroger_locations and kroger_products. Product records and their price data are linked to the kroger_locations collection, to associate their data with the store location we gathered from. Each product record primarily contains information about the item, as it pertains to Kroger. For insance, they contain price information, universal product codes, brand names, which location the data is from, inventory, search term, and more.</p>"},{"location":"design_and_architecture/#database-linkage","title":"Database Linkage","text":"<p>Architecture Diagram</p> <p></p> <p>In order for user requests to flow smoothly and reduce overhead, we had to be strategic about how to link the database collections together.</p> <p>Note</p> <p>Future work may include improving our databse schema and linkage design.</p> <p>We first always take into account who the active user is, and load their tokens into memory from the User Database. Let us start from left-to-right in the database diagram above. When an image is uploaded, it first goes through our object detection pipeline. After classification labels have been generated for all the detected objects, the data is compiled together to form a Product Record. We also associate the active user via username with the image, as well as the timestamp of upload. Then, the image metadata and classification labels are stored in our Product Iamge Database (shown by left-most green in the diagram). Once the metadata is stored, we also create a file pointer to our File Storage service (shown by the right-most green block). At this point, the code queries the Kroger REST API Response databases, namely the Products Database, to see if data for the classified objects are already available. The most important query key is the search term of the item. If no data exists, then we have to make requests to the Kroger API. The first is the Locations API. We determine what the nearest Kroger location is, based on the client's IP address. Then, we make a search at the selected, nearest location for each object detected in the uploaded image(s). Once we get responses, we store all the location data to a collection, and then all the product data to a separate collection. Each product record contains a location ID to link the two collections together.</p> <p>As a case-study, we are going to walk through all the database interactions that occur when populating the history tab of our dashboard page. Furthermore, this example is appropriate, because this feature of our application requires the most interaction with our databases. Suppose the user clicks on the history tab, and they select the \"1 week\" radio menu option. We first determine how much time has elapsed in one week in <code>datetime.datetime</code> format. Then, we filter the Products collection for all products that have been uploaded by the active user in the past week time window.  Once we gather these products, we then iterate through them all to obtain fid pointers to the actual uploaded image data. Using the file pointer, we can load all image data into memory. Then, we collect all store data about that product, including: nearest location, price, item brand name, date uplaoded, etc. Once all data is collected, we render separate tiles for each image that display all the aforementioned data with a rendering of the past uploaded image.</p>"},{"location":"design_and_architecture/#sample-database-record-schema-classes-and-database-entries","title":"Sample Database Record Schema Classes and Database Entries","text":"<p>Below, we include all the different Python class schemas and sample collection entires for all involved Mongo database collections.</p> <p>Base Database Record Class</p> <p>Base DB Record Python Class </p><pre><code>@dataclass\nclass DataBaseRecord:\n    \"\"\"Base class for records that can be stored in the database\n\n    The fields are optional so that a user can still construct the record,\n    without populating the fields that the database will be populating automatically.\n    \"\"\"\n\n    uid: Optional[ObjectId] = None\n    latest_update_time: Optional[datetime.datetime] = None\n</code></pre> <p>User Data</p> <p>User Data Python Class Schema </p><pre><code>@dataclass\nclass UserData(DataBaseRecord):\n    username: str = \"\"\n    password: str = \"\"\n    access_code: str = \"\"\n    kroger_access_token: str = \"\"\n    kroger_refresh_token: str = \"\"\n</code></pre> <p>User Data DB Record </p><pre><code>{\n    _id: ObjectId('67d399971356f8c19c17054e'),\n    uid: null,\n    latest_update_time: ISODate('2025-03-13T22:51:03.244Z'),\n    username: 'megamanx',\n    password: 'a2b26668dd97c2f93ab0c9f877ff5a4ef7f3e0f3755d12880bedd1bdfd497ff3',  // ascii representation: rockman\n    access_code: 'XXXX',\n    kroger_access_token: 'YYYYY',\n    kroger_refresh_token: 'ZZZZZZZZZ'\n}\n</code></pre> <p>Product Image Data</p> <p>Product Image Python Class Schema </p><pre><code>@dataclass\nclass ProductImageRecord(DataBaseRecord):\n    file_storage_id: ObjectId | None = None\n    image_filename: str | None = None\n    image_size: Tuple = None\n    image_mode: str = None\n    classification_labels: str | None = None\n    username: str | None = None\n    linked_product_ids: List[str] = field(default_factory=list)\n</code></pre> <p>Product Image DB Record </p><pre><code>{\n    _id: ObjectId('67cf94ca5006d85ff30c5400'),\n    uid: null,\n    latest_update_time: ISODate('2025-03-10T21:41:30.168Z'),\n    file_storage_id: ObjectId('67cf94c95006d85ff30c5372'),\n    image_filename: 'real_photo_1.png',\n    image_size: [\n        3024,\n        4032\n    ],\n    image_mode: 'RGB',\n    classification_labels: [\n        'orange',\n        'banana'\n    ],\n    username: 'rarnold97',\n    linked_product_ids: [\n        ObjectId('67d21b975c9d0750485791e9'),\n        ObjectId('67d21b9e5c9d0750485791f4')\n    ]\n}\n</code></pre> <p>Product Data</p> <p>Product Data Python Class Schema* </p><pre><code>@dataclass\nclass ProductCard(DataBaseRecord):\n    \"\"\"\n    Refined results from Kroger Product API responses.\n    \"\"\"\n\n    search_term: str = \"\"\n    product_id: str = \"\"\n    nearest_location_id: str = \"\"\n    product_uri: str = \"\"\n    brand: str = \"\"\n    product_descriptor: str = \"\"\n    price_usd: float = None\n    aisle: List[Dict] = \"\"\n    inventory_level: Inventory | int = None\n</code></pre> <p>Product DB Record </p><pre><code>{\n    _id: ObjectId('67d39b52595c19e220f430a1'),\n    uid: null,\n    latest_update_time: ISODate('2025-03-13T22:58:26.370Z'),\n    search_term: 'apple',\n    product_id: '0000000004130',\n    nearest_location_id: '01400938',\n    product_uri: '/p/large-fuji-apple-each/0000000004131?cid=dis.api.tpi_products-api_20240521_b:all_c:p_t:ezshopping-243261243',\n    brand: 'Fresh Apples',\n    product_descriptor: 'Large Fuji Apple \u2013 Each',\n    price_usd: 0.99,\n    aisle: [\n        '{\"description\": \"PRODUCE\", \"number\": \"0\"}'\n    ],\n    inventory_level: 1\n}\n</code></pre> <p>Location Data</p> <p>Kroger Location Python Class Schema </p><pre><code>@dataclass\nclass KrogerLocationCard(DataBaseRecord):\n    \"\"\"\n    Filtered subset of response data from kroger locations request.\n    \"\"\"\n\n    store_id: int = None\n    zip_code: str = \"\"\n    store_name: str = \"\"\n    store_address: Dict = \"\"\n    distance_mi: float = None\n    departments: List[Dict] = field(default_factory=list)\n\n    # sort on distance\n    def __lt__(self, other: KrogerLocationCard):\n        return self.distance_mi &lt; other.distance_mi\n\n    def __le__(self, other: KrogerLocationCard):\n        return self.distance_mi &lt;= other.distance_mi\n\n    def __gt__(self, other: KrogerLocationCard):\n        return self.distance_mi &gt; other.distance_mi\n\n    def __ge__(self, other: KrogerLocationCard):\n        return self.distance_mi &gt;= other.distance_mi\n</code></pre> <p>Kroger Location Record </p><pre><code>{\n    _id: ObjectId('67a8fca3ebd56f3e259e70c2'),\n    uid: null,\n    latest_update_time: ISODate('2025-02-09T19:06:11.306Z'),\n    store_id: '01400747',\n    zip_code: '45377',\n    store_name: 'Kroger - Vandalia',\n    store_address: '{\"addressLine1\": \"780 Northwoods Blvd\", \"city\": \"Vandalia\", \"state\": \"OH\", \"zipCode\": \"45377\", \"county\": \"MONTGOMERY COUNTY\"}',\n    distance_mi: 0.9846650874390342,\n    departments: [\n        '{\"departmentId\": \"73\", \"name\": \"Eco Atm\"}',\n        '{\"departmentId\": \"TL\", \"name\": \"Tobacco\"}',\n        '{\"departmentId\": \"0J\", \"name\": \"Home Chef\"}',\n        '{\"departmentId\": \"18\", \"name\": \"Books And Magazines\"}',\n        '{\"departmentId\": \"26\", \"name\": \"Kosher Food\"}',\n        '{\"departmentId\": \"31\", \"name\": \"Coinstar\"}',\n        '{\"departmentId\": \"55\", \"name\": \"Atm\"}',\n        '{\"departmentId\": \"61\", \"name\": \"Ticketmaster\"}',\n        '{\"departmentId\": \"MO\", \"name\": \"Money Orders\"}',\n        '{\"departmentId\": \"46\", \"name\": \"Sushi\"}',\n        '{\"departmentId\": \"13\", \"name\": \"Cell Phone\"}',\n        '{\"departmentId\": \"16\", \"name\": \"Drive-thru Pharmacy\"}',\n        '{\"departmentId\": \"20\", \"name\": \"One Hour Photo\"}',\n        '{\"departmentId\": \"21\", \"name\": \"Self Checkout\"}',\n        '{\"departmentId\": \"29\", \"name\": \"Event Tickets\"}',\n        '{\"departmentId\": \"45\", \"name\": \"Wine\"}',\n        '{\"departmentId\": \"22\", \"name\": \"Post Office\"}',\n        '{\"departmentId\": \"48\", \"name\": \"Starbucks\"}',\n        '{\"departmentId\": \"65\", \"name\": \"Money Services\"}',\n        '{\"departmentId\": \"08\", \"name\": \"Floral\"}',\n        '{\"departmentId\": \"09\", \"name\": \"Pharmacy\", \"phone\": \"9372642420\", \"hours\": {\"open24\": false, \"monday\": {\"open\": \"08:00\", \"close\": \"20:00\", \"open24\": false}, \"tuesday\": {\"open\": \"08:00\", \"close\": \"20:00\", \"open24\": false}, \"wednesday\": {\"open\": \"08:00\", \"close\": \"20:00\", \"open24\": false}, \"thursday\": {\"open\": \"08:00\", \"close\": \"20:00\", \"open24\": false}, \"friday\": {\"open\": \"08:00\", \"close\": \"20:00\", \"open24\": false}, \"saturday\": {\"open\": \"09:00\", \"close\": \"18:00\", \"open24\": false}, \"sunday\": {\"open\": \"10:00\", \"close\": \"17:00\", \"open24\": false}}}',\n        '{\"departmentId\": \"12\", \"name\": \"Cosmetics\"}',\n        '{\"departmentId\": \"23\", \"name\": \"Drug &amp; General Merchandise\"}',\n        '{\"departmentId\": \"44\", \"name\": \"Beer\"}',\n        '{\"departmentId\": \"63\", \"name\": \"I-wireless\"}',\n        '{\"departmentId\": \"89\", \"name\": \"Western Union\"}',\n        '{\"departmentId\": \"94\", \"name\": \"Pickup\", \"phone\": \"9376650323\"}',\n        '{\"departmentId\": \"01\", \"name\": \"Deli\"}',\n        '{\"departmentId\": \"04\", \"name\": \"Meat Department\"}',\n        '{\"departmentId\": \"32\", \"name\": \"Natural And Organics\"}',\n        '{\"departmentId\": \"53\", \"name\": \"Boar\\'s Head\"}',\n        '{\"departmentId\": \"56\", \"name\": \"The Little Clinic/Walk-in Center\"}',\n        '{\"departmentId\": \"69\", \"name\": \"Online Deli/Bakery Ordering\"}',\n        '{\"departmentId\": \"95\", \"name\": \"Diesel\"}',\n        '{\"departmentId\": \"LY\", \"name\": \"Lottery Tickets\"}',\n        '{\"departmentId\": \"02\", \"name\": \"Bakery\"}',\n        '{\"departmentId\": \"03\", \"name\": \"Cheese Counter\"}',\n        '{\"departmentId\": \"19\", \"name\": \"Videos\"}',\n        '{\"departmentId\": \"99\", \"name\": \"Check Cashing\"}',\n        '{\"departmentId\": \"AF\", \"name\": \"Account Funding\"}',\n        '{\"departmentId\": \"05\", \"name\": \"Seafood Department\"}',\n        '{\"departmentId\": \"10\", \"name\": \"Gas Station\", \"phone\": \"9376650310\", \"hours\": {\"open24\": false, \"monday\": {\"open\": \"06:00\", \"close\": \"22:00\", \"open24\": false}, \"tuesday\": {\"open\": \"06:00\", \"close\": \"22:00\", \"open24\": false}, \"wednesday\": {\"open\": \"06:00\", \"close\": \"22:00\", \"open24\": false}, \"thursday\": {\"open\": \"06:00\", \"close\": \"22:00\", \"open24\": false}, \"friday\": {\"open\": \"06:00\", \"close\": \"22:00\", \"open24\": false}, \"saturday\": {\"open\": \"06:00\", \"close\": \"22:00\", \"open24\": false}, \"sunday\": {\"open\": \"06:00\", \"close\": \"22:00\", \"open24\": false}}, \"address\": {\"addressLine1\": \"780 Northwoods Blvd\", \"city\": \"Vandalia\", \"state\": \"OH\", \"zipCode\": \"45377\"}, \"geolocation\": {\"latitude\": 39.8993538, \"longitude\": -84.1841067, \"latLng\": \"39.8993538,-84.1841067\"}, \"offsite\": true}',\n        '{\"departmentId\": \"17\", \"name\": \"Bath\"}',\n        '{\"departmentId\": \"50\", \"name\": \"Olive Bar\"}',\n        '{\"departmentId\": \"60\", \"name\": \"Redbox\"}'\n    ]\n}\n</code></pre>"},{"location":"future_work/","title":"Future Work","text":""},{"location":"future_work/#future-efforts","title":"Future Efforts","text":"<ul> <li> Enable user to access via a mobile app.</li> <li> Explore higher-fidelity classification models.</li> <li> close zombie tabs created by application, using TCP.</li> <li> Re-design database schema for better efficiency.</li> <li> Host application on a public site, rather than localhost.</li> </ul>"},{"location":"getting_started/","title":"Getting Started","text":""},{"location":"getting_started/#getting-started","title":"Getting Started","text":"<p>Our <code>ez_shopping</code> application primarily uses:</p> <ul> <li>Python</li> <li>Poetry</li> <li>Docker</li> <li>ngrok.</li> </ul> <p>Therefore, you must have the listed software installed. We walk through how to do this for each of the items listed.</p>"},{"location":"getting_started/#setting-up-a-poetry-environment","title":"Setting up a Poetry Environment","text":"<p>The Python environment manager we use for this project is Poetry 2. For more detailed instructions and usage of poetry, defer to the official Poetry documentation.</p> <p>Unix-based (Mac and Linux)</p> <pre><code>$ curl -sSL https://install.python-poetry.org | python3 -\n\n$ poetry shell\n$ poetry install\n</code></pre> <p>Windows (Powershell)</p> <pre><code>(Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | py -\n</code></pre> <p>Once installed, cd into the root directory of the project and run:</p> <pre><code>poetry shell\n\n# or on newer versions of poetry\npython -m venv .venv\nsource .venv/bin/activate\n\n# next steps\npoetry install # install dependencies and editable install of source code.\n</code></pre> <p>To build a release artifact of the software, run:</p> <pre><code>poetry build -f wheel\n</code></pre> <p>The python artifact then installs to: <code>&lt;root&gt;/dist/*.whl</code></p>"},{"location":"getting_started/#setting-up-docker","title":"Setting up Docker","text":"<p>On linux, you can install docker with your package manager:</p> <pre><code>sudo dnf install -y docker # fedora\n\nsudo apt install -y docker # debian\n</code></pre> <p>On mac and linux, it is recommended to install Docker via Docker Desktop.</p> <p>we mostly use the docker-compose cli tool for spawning our databse servers.</p>"},{"location":"getting_started/#setting-up-ngrok","title":"Setting up Ngrok","text":"<p>Ngrok is the gateway technology we use. Create a free account with them to get an API token. Defer to ngrok documentation. Detailed instructions on how to install are given here.</p> <p>most package managers support the software:</p> <p>Debian</p> <p><code>sudo apt install ngrok</code></p> <p>Fedora</p> <p><code>sudo dnf install ngrok</code></p> <p>Mac</p> <p><code>brew install ngrok</code></p> <p>Windows</p> <p><code>choco install ngrok</code></p> <p>Once installed, you need to authenticate your ngrok instance by running:</p> <pre><code>ngrok config add-authtoken &lt;your-token-here&gt;\n</code></pre> <p>To spin-up the ngrok client, we provide a shell script at: ./scripts/create_ngrok_tunnel.sh.</p>"},{"location":"getting_started/#deploy-ezshopping","title":"Deploy EzShopping.","text":"<p>Once the above dependencies are resolved, you may deploy the suite of services for the EzShopping application as shown below:</p> <p>ngrok gateway</p> poetry installdocker compose up mongo mongo-expressstreamlit run ez_shopping/frontend/app.py <p>Note</p> <p>The ngrok tunnel needs to be ran in a separate terminal instance</p> ./scripts/create_ngrok_tunnel.sh <p>All Commands</p> <pre><code>cd &lt;parent-dir&gt;/ez_shopping\npoetry config virtualenvs.in-project true\npoetry install\ndocker compose up mongo mongo-express\nstreamlit run ez_shopping/frontend/app.py\n\n# in separate terminal\n./scripts/create_ngrok_tunnel.sh\n</code></pre> <p>Once all commands are executed, you will be redirected to the application's frontend via browser.</p> <p>Warning</p> <p>The current version of the software, as of March 2025, runs on local-host only.</p>"},{"location":"nav/","title":"Nav","text":"<ul> <li>Home</li> <li>Getting Started</li> <li>Code Architecture and Design</li> <li>Tools and Technologies</li> <li>Customer Requirements</li> <li>Future Work</li> </ul>"},{"location":"requirements/","title":"Customer Requirements","text":""},{"location":"requirements/#requirements-documentation","title":"Requirements Documentation","text":""},{"location":"requirements/#requirements-and-test-plan-spreadsheet","title":"Requirements and Test Plan Spreadsheet","text":""},{"location":"requirements/#srs-requirements-document","title":"SRS Requirements Document","text":""},{"location":"requirements/#initial-customer-professor-meeting","title":"Initial Customer (Professor) Meeting:","text":"<p>(01/21/2025) - in-class</p> <p>Questions</p> <ul> <li> <p> Is it acceptable to only use one grocery store chain API (i.e., Kroger, Meijer, etc.)?     Yes, using a single API is acceptable. The Kroger API is preferred.</p> </li> <li> <p> How should we do the login page and store credentials? Where do we host this service? Is Docker acceptable?     You can implement the login system in a way that is easiest for the team. Hosting on localhost is sufficient for now.</p> </li> <li> <p> Is it acceptable to upload images on a website widget as opposed to using a phone or tablet for an MVP?     Yes, a simple button click to upload images on the website widget is acceptable.</p> </li> <li> <p> What are your expectations for our site? What type of information are you looking for?     The system should perform object detection for multiple grocery items. For example, if there are items like bananas, apples, bread, and ice cream on a table, the system should detect these items and generate a corresponding list.</p> </li> <li> <p> We want to test our MVP with a minimum set of grocery items. Would a minimum set of 5\u201310 items be sufficient?     Yes, testing with a minimum set of 5\u201310 items is sufficient.</p> </li> <li> <p> Are there any specific pages, widgets, or features you want on the frontend?     Including a QR code feature would be a great addition.</p> </li> <li> <p> How should secrets and client data be managed? Any special requests?     A password-protected database for managing secrets and client data is acceptable for now.</p> </li> <li> <p> Do you want us to use CI/CD?     No, CI/CD is not required for this project.</p> </li> <li> <p> How do you expect the app to be delivered/distributed? Are Python installable artifacts sufficient?     Python installable artifacts are sufficient for delivering the application.</p> </li> <li> <p> Are localhost and dummy user solutions acceptable for the MVP?     Yes, using localhost and dummy users is acceptable for the MVP phase.</p> </li> <li> <p> Do we need to create a customer access token, or is using a shared token acceptable?     Using a shared token is acceptable.</p> </li> </ul> <p>Feature Wish-list</p> <ul> <li> fancy login page that connects to API via a URI</li> <li> ability to upload images from phone or tablet</li> <li> Support for multiple grocery-chain APIs instead of one</li> </ul>"},{"location":"tools_and_technologies/","title":"Tools and Technologies","text":""},{"location":"tools_and_technologies/#tools-and-technologies-used","title":"Tools and Technologies Used","text":"<p>Note</p> <p>All code uses Python in some shape or form.</p>"},{"location":"tools_and_technologies/#frontend","title":"Frontend","text":"Category Library Documentation Link Frontend website Streamlit Documentation Link Gateway ngrok Documentation Link"},{"location":"tools_and_technologies/#backend","title":"Backend","text":"Category Library Documentation Link Grocery Chain REST API Kroger Developer API Documentation link Database Mongo DB Documentation Link Database Server Docker / docker-compose cli Documentation Link REST requests requests python library Documentation Link Image processing Pillow python library Documentation Link Object Detection Ultralytics Yolo v11 Documentation Link Python Caching simple cache Documentation Link Documentation Generator Material for Mkdocs Documentation Link"},{"location":"tools_and_technologies/#cicd","title":"CICD","text":"<p>We used Github actions to deploy our CICD pipelines. See our config files on Github for more information.</p>"}]}